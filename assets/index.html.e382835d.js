import{_ as l,o as n,c as a,a as s,b as e,d as i}from"./app.5c7ccfba.js";var t="/assets/mysql\u6E90\u7684\u5B89\u88C5\u7ED3\u679C.59eaa72a.png",r="/assets/mysql\u6E90\u914D\u7F6E\u4FEE\u6539.4f849413.png",c="/assets/\u4FEE\u6539\u540E\u7684mysql\u6E90\u4FE1\u606F.6ea9a84b.png",o="/assets/\u67E5\u8BE2mysql\u9ED8\u8BA4\u5BC6\u7801.0255395a.png";const d={},m={class:"custom-container tip"},p={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},u=s("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),v=s("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),h=[u,v],y=s("p",{class:"custom-container-title"},"Tips",-1),b=s("p",null,[e("\u672C\u6587\u5B89\u88C5\u7684Mysql 5.7\uFF0C\u5F53\u7136\uFF0C\u5982\u679C\u9700\u8981\u66F4\u9AD8\u7248\u672C\u7684\uFF0C\u53EF\u4EE5\u6309\u7167 "),s("code",null,"Step.4"),e(" \u4FEE\u6539\u6587\u4EF6\u4E2D\u7684"),s("code",null,"enable"),e("\u7684\u503C\uFF081\uFF1A\u542F\u7528\uFF0C0\uFF1A\u5173\u95ED\uFF09\u5373\u53EF\u3002")],-1),g=i(`<h2 id="step-1-\u68C0\u67E5\u5E76\u5378\u8F7D\u7CFB\u7EDF\u539F\u88C5mysql" tabindex="-1"><a class="header-anchor" href="#step-1-\u68C0\u67E5\u5E76\u5378\u8F7D\u7CFB\u7EDF\u539F\u88C5mysql" aria-hidden="true">#</a> Step.1 \u68C0\u67E5\u5E76\u5378\u8F7D\u7CFB\u7EDF\u539F\u88C5MySQL</h2><ul><li><p>\u6267\u884C\u547D\u4EE4 <code>rpm -qa | grep mysql</code>\uFF0C\u67E5\u627E\u7CFB\u7EDF\u662F\u5426\u88C5\u6709 MySQL</p></li><li><p>\u82E5\u5DF2\u5B89\u88C5 MySQL\uFF0C\u9700\u8981\u505C\u6B62 MySQL \u670D\u52A1\uFF0C\u5E76\u5220\u9664\u4E4B\u524D\u5B89\u88C5\u7684 MySQL</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u505C\u6B62MySQL\u670D\u52A1</span>
systemctl stop mysqld

<span class="token comment"># \u5220\u9664\u8F6F\u4EF6\u547D\u4EE4\uFF08\u9700\u8981\u5220\u9664\u5DF2\u6709\u7684\u6240\u6709MySQL\u7684rpm\u5305\uFF09</span>
<span class="token function">rpm</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">--nodeps</span> \u5305\u540D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u5220\u9664\u8001\u7248\u672C\u7684 MySQL \u76EE\u5F55\u4EE5\u53CA MySQL \u7684\u914D\u7F6E\u7B49</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u67E5\u627E mysql \u76F8\u5173\u7684\u76EE\u5F55</span>
<span class="token function">find</span> / <span class="token parameter variable">-name</span> mysql

<span class="token comment"># \u5220\u9664\u8001\u7248\u672Cmysql\u7684\u6587\u4EF6</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> my.cnf \u4EE5\u53CA my.cnf.d \u7684\u76EE\u5F55
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="step-2-yum-\u8BBE\u7F6E\u963F\u91CC\u6E90-\u963F\u91CC\u955C\u50CFmysql\u4E0B\u8F7D\u5FEB" tabindex="-1"><a class="header-anchor" href="#step-2-yum-\u8BBE\u7F6E\u963F\u91CC\u6E90-\u963F\u91CC\u955C\u50CFmysql\u4E0B\u8F7D\u5FEB" aria-hidden="true">#</a> Step.2 yum \u8BBE\u7F6E\u963F\u91CC\u6E90 (\u963F\u91CC\u955C\u50CFMySQL\u4E0B\u8F7D\u5FEB)</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 1. \u5907\u4EFD\u539F\u5148\u7684\u955C\u50CF\u6587\u4EF6</span>
<span class="token builtin class-name">cd</span> /etc/yum.repos.d
<span class="token function">mv</span> CentOS-Base.repo CentOS-Base.repo.backup

<span class="token comment"># 2. \u4E0B\u8F7D\u963F\u91CC\u4E91\u7684 CentOS-Base.repo \u5230 /etc/yum.repos.d/ \u76EE\u5F55\u4E0B</span>
<span class="token function">wget</span> <span class="token parameter variable">-O</span> /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo	

<span class="token comment"># 3. \u6E05\u7406 yum \u8F6F\u4EF6\u6E90\u7F13\u5B58</span>
yum clean all

<span class="token comment"># 4. \u751F\u6210\u65B0\u7684 yum \u5143\u6570\u636E\u7F13\u5B58</span>
yum makecache
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="step-3-\u4E0B\u8F7D\u914D\u7F6Emysql\u7684rpm\u5305" tabindex="-1"><a class="header-anchor" href="#step-3-\u4E0B\u8F7D\u914D\u7F6Emysql\u7684rpm\u5305" aria-hidden="true">#</a> Step.3 \u4E0B\u8F7D\u914D\u7F6EMySQL\u7684rpm\u5305</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u81EA\u884C\u521B\u5EFAmysql rpm\u5305\u7684\u5B58\u653E\u8DEF\u5F84</span>
<span class="token comment"># 1.\u4E0B\u8F7Drpm\u5305</span>
<span class="token function">wget</span> https://repo.mysql.com//mysql80-community-release-el7-3.noarch.rpm

<span class="token comment"># 2.\u5B89\u88C5myaql\u6E90</span>
yum localinstall <span class="token parameter variable">-y</span> mysql80-community-release-el7-3.noarch.rpm

<span class="token comment"># 3.\u68C0\u67E5MySQL\u6E90\u662F\u5426\u5B89\u88C5\u6210\u529F\uFF0C\u6B64\u65F6\u67E5\u5230\u7684\u5B89\u88C5\u5305\u7684\u7248\u672C\u90FD\u662Fmysql8.0\u7248\u672C\u7684</span>
yum repolist enabled <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;mysql.*-community.*&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+t+`" alt=""></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 4.\u4FEE\u6539yum\u6E90\u914D\u7F6E\u6587\u4EF6\uFF0C\u83B7\u53D6\u81EA\u5DF1\u60F3\u8981\u5B89\u88C5\u7684mysql5.7\u7248\u672C</span>
<span class="token function">vim</span> /etc/yum.repos.d/mysql-community.repo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+r+'" alt=""></p><p>\u4FEE\u6539\u7EA2\u6846\u4E2D\u7684\u5185\u5BB9\uFF0C\u5C06 MySQL 5.7 \u7684 <code>enabled=0</code> \u6539\u4E3A <code>enabled=1</code>\uFF0C\u5C06 MySQL 8.0 \u7684 <code>enabled=1</code> \u6539\u4E3A <code>enabled=0</code>\uFF0C\u4FDD\u5B58\u9000\u51FA\u540E\uFF0C\u91CD\u65B0\u6267\u884C\u547D\u4EE4 <code>yum repolist enabled | grep &quot;mysql.*-community.*&quot;</code>\uFF0C\u67E5\u770B\u5F53\u524D MySQL \u6E90\u7248\u672C\u662F\u5426\u662F 5.7</p><p><img src="'+c+`" alt=""></p><h2 id="step-4-\u5B89\u88C5mysql" tabindex="-1"><a class="header-anchor" href="#step-4-\u5B89\u88C5mysql" aria-hidden="true">#</a> Step.4 \u5B89\u88C5MySQL</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> mysql-community-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="step-5-\u542F\u52A8mysql\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#step-5-\u542F\u52A8mysql\u670D\u52A1" aria-hidden="true">#</a> Step.5 \u542F\u52A8MySQL\u670D\u52A1</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 1.\u4E34\u65F6\u542F\u52A8mysql\u670D\u52A1</span>
systemctl start mysqld

<span class="token comment"># 2.\u5F00\u673A\u542F\u52A8mysql\u670D\u52A1</span>
systemctl <span class="token builtin class-name">enable</span> mysqld

<span class="token comment"># 3.\u67E5\u770BMySQL\u7684\u542F\u52A8\u72B6\u6001</span>
systemctl status mysqld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="step-6-\u4FEE\u6539mysql\u672C\u5730\u7684root\u767B\u5F55\u5BC6\u7801" tabindex="-1"><a class="header-anchor" href="#step-6-\u4FEE\u6539mysql\u672C\u5730\u7684root\u767B\u5F55\u5BC6\u7801" aria-hidden="true">#</a> Step.6 \u4FEE\u6539MySQL\u672C\u5730\u7684root\u767B\u5F55\u5BC6\u7801</h2><p>MySQL \u5B89\u88C5\u5B8C\u6210\u540E\uFF0C\u5728 <code>/var/log/mysqld.log</code> \u6587\u4EF6\u4E2D\uFF0C\u53EF\u4EE5\u627E\u5230\u5B89\u88C5 MySQL \u65F6\u81EA\u52A8\u751F\u6210\u7684 root \u5BC6\u7801</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">grep</span> <span class="token string">&#39;temporary password&#39;</span> /var/log/mysqld.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+o+`" alt=""></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 1.\u4F7F\u7528\u4EE5\u4E0A\u627E\u5230\u7684\u5BC6\u7801\u767B\u5F55MySQL</span>
mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>

<span class="token comment"># 2. \u4FEE\u6539root\u7528\u6237\u5BC6\u7801</span>
ALTER <span class="token environment constant">USER</span> <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;localhost&#39;</span> IDENTIFIED BY <span class="token string">&#39;Shhex!1324&#39;</span><span class="token punctuation">;</span>

<span class="token comment"># 3. \u5F00\u542F\u7528\u6237\u8FDC\u7A0B\u767B\u5F55</span>
GRANT ALL PRIVILEGES ON *.* TO <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;%&#39;</span> IDENTIFIED BY <span class="token string">&#39;Shhex!1324&#39;</span> WITH GRANT OPTION<span class="token punctuation">;</span>
FLUSH PRIVILEGES<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20),k={class:"custom-container tip"},_={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},f=s("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),q=s("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),S=[f,q],x=s("p",{class:"custom-container-title"},"Tips",-1),M=s("p",null,[e("\u5982\u679C\u662F\u5F00\u53D1\u6216\u8005\u6D4B\u8BD5\u73AF\u5883\uFF0C\u5EFA\u8BAE \u5728 "),s("code",null,"/etc/my.cnf"),e(" \u4E2D\u6DFB\u52A0\u4E00\u6BB5 "),s("code",null,"validate_password=off"),e(" \uFF0C\u5173\u95ED\u5BC6\u7801\u7B56\u7565\u3002\uFF08\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6\u540E\uFF0C\u9700\u8981\u91CD\u542Fmysql\u670D\u52A1\uFF0C\u547D\u4EE4\u884C"),s("code",null,"systemctl restart mysqld"),e("\uFF09")],-1),L=s("h2",{id:"\u5E38\u89C1\u95EE\u9898",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u5E38\u89C1\u95EE\u9898","aria-hidden":"true"},"#"),e(" \u5E38\u89C1\u95EE\u9898")],-1),Q=s("h4",{id:"\u6267\u884C-yum-y-install-mysql-community-server-\u5982\u9047\u4EE5\u4E0B\u95EE\u9898",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u6267\u884C-yum-y-install-mysql-community-server-\u5982\u9047\u4EE5\u4E0B\u95EE\u9898","aria-hidden":"true"},"#"),e(" \u6267\u884C "),s("code",null,"yum -y install mysql-community-server"),e("\uFF0C\u5982\u9047\u4EE5\u4E0B\u95EE\u9898")],-1),w={class:"custom-container danger"},G={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},P=s("path",{d:"M297.64 123.31C133.55 123.31 0 256.83 0 420.94c0 164.11 133.55 297.64 297.64 297.64 164.09 0 297.64-133.52 297.64-297.64 0-164.12-133.55-297.63-297.64-297.63Zm107.8 333.25H189.83c-19.541 0-35.62-16.079-35.62-35.62 0-19.541 16.079-35.62 35.62-35.62h215.61c19.541 0 35.62 16.079 35.62 35.62 0 19.541-16.079 35.62-35.62 35.62Z",style:{fill:"#f55","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.179)"},null,-1),I=[P],R=s("p",{class:"custom-container-title"},"\u9519\u8BEF\u4FE1\u606F",-1),E=s("p",null,'\u6E90 "MySQL 5.7 Community Server" \u7684 GPG \u5BC6\u94A5\u5DF2\u5B89\u88C5\uFF0C\u4F46\u662F\u4E0D\u9002\u7528\u4E8E\u6B64\u8F6F\u4EF6\u5305\u3002\u8BF7\u68C0\u67E5\u6E90\u7684\u516C\u94A5 URL \u662F\u5426\u914D\u7F6E\u6B63\u786E\u3002',-1),T=i(`<h5 id="\u5B98\u65B9\u6709\u8BF4\u5230" tabindex="-1"><a class="header-anchor" href="#\u5B98\u65B9\u6709\u8BF4\u5230" aria-hidden="true">#</a> \u5B98\u65B9\u6709\u8BF4\u5230\uFF1A</h5><p>If you are using RPM 4.1 and it complains about (GPG) NOT OK (MISSING KEYS: GPG#3a79bd29), even though you have imported the MySQL public build key into your own GPG keyring, you need to import the key into the RPM keyring first. RPM 4.1 no longer uses your personal GPG keyring (or GPG itself). Rather, RPM maintains a separate keyring because it is a system-wide application and a user\u2019s GPG public keyring is a user-specific file. To import the MySQL public key into the RPM keyring, first obtain the key, then use rpm --import to import the key</p><h5 id="\u53EF\u4EE5\u6267\u884C\u4E00\u4E0B\u547D\u4EE4\u884C\u89E3\u51B3" tabindex="-1"><a class="header-anchor" href="#\u53EF\u4EE5\u6267\u884C\u4E00\u4E0B\u547D\u4EE4\u884C\u89E3\u51B3" aria-hidden="true">#</a> \u53EF\u4EE5\u6267\u884C\u4E00\u4E0B\u547D\u4EE4\u884C\u89E3\u51B3\uFF1A</h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## 2022-07-14 </span>
<span class="token function">rpm</span> <span class="token parameter variable">--import</span> https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,4);function B(N,O){return n(),a("div",null,[s("div",m,[(n(),a("svg",p,h)),y,b]),g,s("div",k,[(n(),a("svg",_,S)),x,M]),L,Q,s("div",w,[(n(),a("svg",G,I)),R,E]),T])}var C=l(d,[["render",B],["__file","index.html.vue"]]);export{C as default};
